name: Global King System Active
on:
  workflow_dispatch:

jobs:
  run-browser:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      - name: Install Everything
        run: |
          sudo apt-get update
          sudo apt-get install -y xvfb libegl1 libxcb-cursor0 libxkbcommon-x11-0 libxcb-icccm4 libxcb-image0 libxcb-keysyms1 libxcb-randr0 libxcb-render-util0 libxcb-shape0 libxcb-xfixes0 libxcb-xinerama0 libxcb-sync1
          pip install PyQt6 PyQt6-WebEngine

      - name: Run Browser
        run: |
          Xvfb :99 -screen 0 1280x1024x24 &
          export DISPLAY=:99
          python main.py
